:root{
  --bg:#0b1020; --bg2:#0c1227; --card:#0f1730; --ink:#e9effa; --muted:#9fb0d2;
  --border:#23304d; --accent:#6cb1ff; --accent-2:#8bd5ff; --shadow:0 18px 60px rgba(0,0,0,.35);
  --good:#27ae60; --bad:#ff6b6b;
  /* 新增：統一按鈕高度（可依喜好調整） */
  --btn-h: 48px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC",Helvetica,Arial;
  background: radial-gradient(1200px 600px at 20% -10%, #18264e 0%, transparent 60%),
              radial-gradient(1200px 600px at 100% 10%, #1b2a55 0%, transparent 55%),
              linear-gradient(180deg, var(--bg), var(--bg2));
  background-attachment: fixed;
}

/* Nav */
.nav{
  position: sticky; top:0; z-index:10;
  backdrop-filter: blur(8px);
  background: rgba(10,14,28,.6);
  border-bottom: 1px solid var(--border);
}
.nav__inner{
  max-width: 1100px; margin: 0 auto; padding: 10px 16px;
  display:flex; align-items:center; gap: 18px;
  flex-wrap: nowrap;          /* 手機保持單行，不換行 */
}
.brand{font-weight:800; letter-spacing:.3px}
.spacer{flex:1}
.nav a{color:var(--ink); text-decoration:none; padding: 8px 10px; border-radius:10px}
.nav a:hover{background:rgba(255,255,255,.06)}
.pill{border:1px solid var(--border); color:var(--muted); padding:4px 10px; border-radius:999px; font-size:12px}

/* Layout / Hero */
.wrap{max-width:1100px; margin:0 auto; padding: 56px 16px 28px}
.hero{ margin: 32px auto 18px; text-align:center; }
.hero h1{ margin:0 0 10px; font-size: clamp(28px, 4vw, 44px); line-height:1.15; letter-spacing:.3px; }
.hero p{ margin:0 auto; color:var(--muted); max-width:760px }
.hero .tagline{
  display:inline-flex; align-items:center; gap:8px; margin-bottom:14px;
  color:#cfe7ff; background:linear-gradient(90deg, rgba(108,177,255,.2), rgba(139,213,255,.12));
  border:1px solid rgba(139,213,255,.45); padding:6px 12px; border-radius:999px; font-size:13px;
}

/* Buttons */
.cta-row{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin-top:22px; }
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  height: var(--btn-h);                  /* 統一等高 */
  padding:0 18px;                        /* 上下由高度決定，左右用 padding */
  border-radius:14px; font-weight:800; letter-spacing:.3px;
  text-decoration:none; border:1px solid var(--border); box-shadow: var(--shadow);
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease;
  min-width: 220px;                      /* 預設比較寬的按鈕 */
  line-height:1;                         /* 避免行高撐高 */
}
.btn:hover{ transform: translateY(-1px) }
.btn--primary{ background:linear-gradient(180deg, var(--accent), var(--accent-2)); color:#071425; border:0; }
.btn--ghost{ background:#111a33; color:var(--ink) }

/* Cards / Grid */
.grid{ display:grid; grid-template-columns:1fr; gap:14px; margin-top:28px; }
@media(min-width:860px){ .grid{ grid-template-columns: 2fr 1fr; } }
.card{
  background: rgba(18,25,48,.8); border: 1px solid var(--border);
  border-radius: 16px; padding: 18px; box-shadow: var(--shadow);
}
.card h3{margin: 6px 0 10px}
.list{margin:0; padding-left: 18px}

.muted{color:var(--muted)}
footer{color:var(--muted); text-align:center; padding:22px 0 32px}
code{background:#0c1423;border:1px solid var(--border);padding:2px 6px;border-radius:6px}

/* --- Quiz helpers --- */
.hidden{ display:none !important; }
.kbd{ background:#0c1423; border:1px solid var(--border); padding:2px 6px; border-radius:6px }
.q{ background:#0f1730; border:1px solid var(--border); border-radius:12px; padding:12px; margin:10px 0 }
.q .qid{ font-size:12px; color:var(--muted) }
.q .qt{ font-weight:700; margin:6px 0 8px }
.opt{ display:block; padding:6px; border-radius:8px; border:1px solid transparent }
.opt:hover{ background:#0e162a; border-color:#24304a }
.badge{ display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700 }
.badge.good{ background:rgba(39,174,96,.2); border:1px solid rgba(39,174,96,.5) }
.badge.bad{  background:rgba(255,107,107,.2); border:1px solid rgba(255,107,107,.5) }
.wrong{ border-left:4px solid var(--bad); padding-left:10px }

/* 禁用按鈕視覺 */
.btn[disabled]{ opacity:.5; cursor:not-allowed; filter: grayscale(20%); }

/* 交卷前可自由修改；交卷後鎖定 */
.q.locked .opt input{ pointer-events:none; }
.q .status{ font-size:12px; color:var(--muted); margin-left:8px; }

/* ===== 上/下一題導覽與題號總表 ===== */

/* 上/下一題靠左；交卷靠右 */
.nav-qa{
  display:grid;
  grid-template-columns: auto 1fr; /* 左區寬度=按鈕群寬，右區撐開 */
  align-items:center;
  margin-top:12px;
}
.nav-qa__center{
  justify-self:start;              /* ← 靠左 */
  display:flex; gap:12px;
}
.nav-qa__right{
  justify-self:end;                /* → 靠右 */
  display:flex;
}

/* 題號總表（方框） */
.pager{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(38px,1fr));
  gap:8px;
  margin-top:16px;
}
.pager .box{
  display:flex; align-items:center; justify-content:center;
  height:38px; border:1px solid var(--border); border-radius:10px;
  background:#0f1730; color:var(--ink); cursor:pointer;
}
.pager .box:hover{ background:#0e162a; border-color:#24304a }
.pager .box.answered{ background:#2b3346; border-color:#56617a; color:#636364; }
.pager .box.current{ outline:2px solid var(--accent); box-shadow:0 0 0 2px rgba(108,177,255,.25) inset }
.pager .box.locked{ opacity:.6; cursor:default }

/* 交卷後的結果清單用的正/誤標色 */
.opt.is-correct{ color:#27ae60; background:rgba(39,174,96,.15); border-color:rgba(39,174,96,.55) }
.opt.is-wrong{   color:#ff6b6b; background:rgba(255,107,107,.15); border-color:rgba(255,107,107,.55) }

/* 手機導覽列優化：縮間距、隱藏 pill，避免擠到換行 */
.brand, .nav a, .pill{ white-space: nowrap; }
@media (max-width: 600px){
  .nav__inner{ gap:8px; }
  .brand{ font-size:18px; }
  .nav a{ padding:6px 8px; }
  .pill{ display:none; }
}

/* 題數＋三顆按鈕：三顆等寬 */
.actions-row{
  display: grid;
  grid-template-columns: auto 1fr 1fr 1fr; /* 左邊題數固定寬，三顆按鈕平均 */
  gap: 12px;
  align-items: center;
}
.actions-row .btn{
  width: 100%;
  min-width: 0;         /* 取消預設 min-width 影響，才能等寬 */
  justify-content: center;
}

/* 小螢幕：題數一欄 + 三顆按鈕各自一整行 */
@media (max-width: 560px){
  .actions-row{
    grid-template-columns: 1fr;
  }
}
